<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Losowanie nagród</title>
  <style>.toast {
  position: fixed;
  bottom: 70px;
  right: 600px;
  background-color: #d75d118a;
  color: rgb(254, 246, 246);
  padding: 15px 25px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  font-size: 26px;
  z-index: 1000;
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.4s ease;
}

.toast.show {
  opacity: 1;
  transform: translateY(0);
}

.toast.hidden {
  display: none;
}

















/* Podstawowy reset */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Styl kontenera całego live drop */
#live-drops-wrapper {
  width: 100%;
  max-width: 100%;
  overflow: hidden; /* Ukryj nadmiar — żadnego scrolla */
  padding: 10px 0;
  background: #111;
  border-top: 2px solid #444;
  border-bottom: 2px solid #444;
  height: 100px;
  position: absolute;
}

/* Kontener na wszystkie dropy (będzie przesuwany) */
#live-drops {
  position: absolute;
  display: flex;
  flex-direction: row;
  gap: 15px;
  transition: transform 0.5s ease;
  will-change: transform;
}

/* Pojedynczy drop */
.drop {
  flex: 0 0 auto; /* Nie pozwala dropowi się rozciągać */
  width: 160px;
  min-width: 160px;
  max-width: 160px;
  height: 100%;

  background: #1e1e1e;
  border: 1px solid #333;
  border-radius: 10px;
  padding: 10px;
  color: #fff;
  font-size: 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  box-shadow: 0 0 5px rgba(255, 255, 255, 0.05);
  transition: transform 0.3s ease;
}

/* Zdjęcie przedmiotu */
.drop img {
  width: 75px;
  height: 75px;
  object-fit: contain;
  margin-bottom: 6px;
  border-radius: 4px;
  background: #222;
}

/* Tekst w dropie */
.drop div {
  text-align: center;
  line-height: 1.4;
}







#multiDrawOptions {
  margin: 10px 0;
}
.multiDraw {
  margin-right: 5px;
  padding: 8px 12px;
  background: #333;
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
.multiDraw.active {
  background: #d75d11;
}










 .indicator {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    z-index: 10;
  }

  .top-indicator {
    top: -10px;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-top: 15px solid red; /* ostrze skierowane w dół */
  }

  .bottom-indicator {
    bottom: -10px;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-bottom: 15px solid red; /* ostrze skierowane w górę */
  }








  
.bg-blue {
  background-color: #007bff;
}

.bg-purple {
  background-color: #6f42c1;
}

.bg-bronze {
  background-color: #cd7f32;
}

.bg-red {
  background-color: #dc3545;
}

.bg-gold {
  background-color: gold;
}

.skin-img {
  width: 100px;
  margin-right: 20px;
  padding: 10px;
  border-radius: 8px;
}




















</style>
</head>

<body>

<iframe src="/livedrop.html" style="width: 100%; height: 135px; border: none;"></iframe>





  <h1>Losowanie</h1>

 <p>Twój balans: <span id="balance">0 zł</span></p>
<button id="drawBtn">Losuj (koszt 3.5 zł)</button>








<div id="animationWrapper" style="position: relative; width: fit-content; margin: 20px auto;">
  <div class="indicator top-indicator"></div>
  <div class="indicator bottom-indicator"></div>





  <div id="animationContainer" style="overflow: hidden; border: 1px solid #ccc;">
    <div id="imageStripStatic" style="display: none; flex-wrap: nowrap;"></div>
    <div id="imageStrip" style="display: none; flex-wrap: nowrap;"></div>
  </div>
</div>




<img id="resultImage" style="max-width: 200px; display:none;" />
<p id="resultImageName" style="font-weight: bold; font-size: 20px; color: #d75d11;"></p>








<p id="result"></p>




<!-- Nowe przyciski -->
<div id="actionButtons" style="display:none;">
  <button id="sellBtn">Sprzedaj</button>
  <button id="keepBtn">Dodaj do ekwipunku</button>
</div>

<button id="kontoBtn">Moje konto</button>







<script src="animation.js"></script>

<script>

document.addEventListener("DOMContentLoaded", () => {
  const kontoBtn = document.getElementById("kontoBtn");
  const losowanieBtn = document.getElementById("losowanieBtn");

  if (kontoBtn) {
    kontoBtn.addEventListener("click", (e) => {
      const userId = localStorage.getItem("user_id");
      if (!userId) {
        e.preventDefault();
        showToast("Musisz być zalogowany, aby przejść do konta.");
      } else {
        window.location.href = "/uzytkownikkonto/index.html";
      }
    });
  }

  if (losowanieBtn) {
    losowanieBtn.addEventListener("click", (e) => {
      const userId = localStorage.getItem("user_id");
      if (!userId) {
        e.preventDefault();
        showToast("Musisz być zalogowany, aby przejść do losowania.");
      } else {
        window.location.href = "/podstrona1/index.html";
      }
    });
  }
});

function showToast(message) {
  const toast = document.getElementById("toast");
  toast.textContent = message;
  toast.classList.remove("hidden");
  toast.classList.add("show");

  setTimeout(() => {
    toast.classList.remove("show");
    toast.classList.add("hidden");
  }, 3000);
}













document.addEventListener("DOMContentLoaded", () => {
  const loader = document.getElementById("loader");
  const knife = document.getElementById("knife");
  const main = document.getElementById("main-content");

  // Po zakończeniu animacji – powiększ nóż i przejdź dalej
  setTimeout(() => {
    knife.classList.add("zoom");

    // Poczekaj chwilę i przejdź do strony
    setTimeout(() => {
      loader.style.display = "none";
      main.style.display = "block";
    }, 1000);
  }, 3000);
});
</script>
  <a href="/index.html">← Powrót</a>

  <script type="module" src="./losowanie.js"></script>
  
</body>
</html>
